<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:cxf="http://camel.apache.org/schema/cxf"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd        http://camel.apache.org/schema/spring        http://camel.apache.org/schema/spring/camel-spring.xsd  http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf-2.8.3.xsd">
    <!-- <bean class="com.work.replace" id="replace-method"/> -->
    <bean class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close" id="dataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
        <property name="url" value="jdbc:mysql://localhost/learn"/>
        <property name="username" value="root"/>
        <property name="password" value="admin"/>
    </bean>
    <bean class="org.apache.camel.component.sql.SqlComponent" id="sql">
        <property name="dataSource" ref="dataSource"/>
    </bean>
    <camelContext id="camel" streamCache="true" threadNamePattern="100" xmlns="http://camel.apache.org/schema/spring">
        <dataFormats>
            <json id="serializer" library="Jackson" prettyPrint="true"/>
            <jacksonxml id="jack" prettyPrint="true"/>
        </dataFormats>
        <route id="ejercicio">
            <!-- <from id="_from1" uri="ftp:localhost/Archivos?fileName=prueba-insert.txt&amp;password=entelgy&amp;username=entelgy"/> -->
            <!-- <setHeader headerName="nombre"> -->
            <!-- <xpath resultType="String">/root/actors/nombre</xpath> -->
            <!-- </setHeader> -->
            <!-- <setHeader headerName="apellido"> -->
            <!-- <xpath resultType="String">/root/actors/apellido</xpath> -->
            <!-- </setHeader> -->
            <!-- <setHeader headerName="edad"> -->
            <!-- <xpath resultType="Integer" >/root/actors/edad</xpath> -->
            <!-- </setHeader> -->
            <!-- <log id="_log1" message="${header.edad}" /> -->
            <!-- <description>Query con consulta de insert</description> -->
            <!-- <to id="_to1" uri="sql://{{sql-query-insert}});" /> -->
            <!-- <transform id="_transform1"> -->
            <!-- <method bean="replace-method" method="replaceMethod"/> -->
            <!-- </transform> -->
            <!-- <from id="_from1" uri="timer:timerName?period=3s"/> -->
            <from id="_from1" uri="file:emisor?noop=true&amp;fileName=archivo"/>
            <setProperty id="_setProperty1" propertyName="FI_IMPORT_FL_XML_REQ">
                <xpath/>
            </setProperty>
            <!--             <setProperty id="_setProperty1" propertyName="to"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.XML_VALUE</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <setProperty id="_setProperty1" propertyName="to2"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.ENLINEA</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <setProperty id="_setProperty1" propertyName="to3"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.BUSINESS_UNIT</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <setProperty id="_setProperty1" propertyName="to4"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.SEQNO</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <setProperty id="_setProperty1" propertyName="to5"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.ULTIMO</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <setProperty id="_setProperty1" propertyName="to6"> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ.XML_VALUE</jsonpath> -->
            <!--             </setProperty> -->
            <!--             <log id="_log2" message="${property.to}"/> -->
            <!--             <log id="_log2" message="${property.to1}"/> -->
            <!--             <log id="_log2" message="${property.to2}"/> -->
            <!--             <log id="_log2" message="${property.to3}"/> -->
            <!--             <log id="_log2" message="${property.to4}"/> -->
            <!--             <log id="_log2" message="${property.to5}"/> -->
            <!--             <log id="_log2" message="${property.to6}"/> -->
            <!-- <to id="_to1" uri="sql://{{sql-query}}"/> -->
            <!-- <to id="_to1" uri="sql://insert into test (id_test, nombre, apellido, 
				edad) values (3, ${header.nombre}, ${header.apellido}, ${header.edad});"/> -->
            <!--             <split id="_split1 "> -->
            <!--                 <jsonpath>$.FI_IMPORT_FL_XML_REQ</jsonpath> -->
            <!--                 <marshal id="_marshal1" ref="jack"/> -->
            <!--                 <log id="_log1" message="\n ${body}"/> -->
            <!--             </split> -->
            <split id="_split1">
                <simple>body</simple>
                <marshal id="_marshal1" ref="serializer"/>
            </split>
        </route>
    </camelContext>
</beans>
